
        <p>On Twitter I follow <a href="https://twitter.com/keyboardP" title="@keyboardP" target="_blank">@keyboardP</a> (who is working on some awesome stuff). During work today he posted about a problem with Google Search Result Links. The problem is that Google has you go to a tracking site which then redirects you to the final site. While that’s good and dandy for Google it means the you can’t just copy and past the link somewhere. Now being to good programmer that I am I quickly whipped up some code that would fix this</p>
        <p><code class="text/javascript">var a = document.getElementsByTagName("a"); <br />for (var i = 0; i &lt; a.length; i++) <br />{ <br /> var url = a[i].href; <br /> if (url.indexOf("/url?") &gt; -1) <br /> { <br /> a[i].href = decodeURIComponent(getQueryVariable(url, "url", url)); <br /> console.log(a[i].href); <br /> } <br />} <br />function getQueryVariable(url, variable, defaultValue) <br />{ <br /> if (url.indexOf("?") &gt; -1) <br /> { <br /> var query = url.substr(url.indexOf("?") + 1); <br /> var vars = query.split("&amp;"); <br /> for (var i = 0; i &lt; vars.length; i++) <br /> { <br /> var pair = vars[i].split("="); <br /> if (pair[0] == variable) <br /> { <br /> return pair[1]; <br /> } <br /> } <br /> } <br /> return defaultValue; <br />}</code></p>
        <p>Very quick and dirty solution but it worked. Uploaded it to <a href="http://jsbin.com" target="_blank">jsbin.com</a>, sent it to <a href="https://twitter.com/keyboardP" title="@keyboardP" target="_blank">@keyboardP</a> and figured I was done.</p>
        <p>He got back to me with the fact that some people were finding that they had to do it twice, with the final “fix” being to click on a link and then use the bookmark.</p>
        <p>The problem was that my code fixed the end result, not the problem. My code looped through all links, checked if the link was a Google redirect and if so extracted the final destination to set as the link URL. The problem was that Google ingeniously sent the page down with the correct URL! The redirection URL was only set on mouse over. This had the cool effect of making the tool tip for the link show the destination URL. Good for Google but not for my fix. So armed with knowledge of the real problem I created this script:</p>
        <p><code class="text/javascript">(function () <br />{ <br /> var a = document.getElementsByTagName("a"); <br /> for (var i = 0; i &lt; a.length; i++) <br /> { <br /> a[i].onmousedown = ""; <br /> } <br />})();</code></p>
        <p>This script simply removed all mouse down events from links, a bit mean but it works. This version had an added advantage over the first fix; with no white spaces it only too up 109 characters so I could sent it to <a href="https://twitter.com/keyboardP" title="@keyboardP" target="_blank">@keyboardP</a> via twitter!</p>
      